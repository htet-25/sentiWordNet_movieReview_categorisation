<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/common/commonLayout.xhtml">
	<ui:define name="content">

		<h:form id="wantedNoticeRegisterForm" enctype="multipart/form-data">
			<h1><h:outputText value="#{label['WANTED_NOTICE_REGISTRATION_TITLE']}" /></h1>

			<p:messages globalOnly="true" showDetail="false" showSummary="true"
				autoUpdate="true" />

			<p:panelGrid id="wantedNoticeRegisterGrid" columns="2"
				columnClasses="width-20, width-80" layout="grid">

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_ID']}" styleClass="required" />
				<h:panelGroup>
					<p:inputText id="wantedPersonId" label="Wanted Notice ID"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.wantedPersonId}"
						required="true" maxlength="13" styleClass="width-30">
						<f:validateLength minimum="1" maximum="13" />
					</p:inputText>

					<p:message for="wantedPersonId" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_CASE_NO']}" />
				<h:panelGroup>
					<p:autoComplete id="caseNo" label="Case No"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.caseNo}"
						completeMethod="#{wantedNoticeRegisterActionBean.getAllCaseNo}"
						maxlength="10" scrollHeight="250" styleClass="auto-complete-100">
						<f:validateLength maximum="10" />
					</p:autoComplete>
					<p:message for="caseNo" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_NAME']}" styleClass="required" />
				<h:panelGroup>
					<p:inputText id="name" label="Name"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.nameEn}"
						maxlength="50" required="true" styleClass="width-30">
						<f:validateLength maximum="50" />
					</p:inputText>
					<p:message for="name" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_NRC_NO']}" />
				<h:panelGroup>
					<p:inputText id="nrcNo" label="NRC No"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.nrcNoEn}"
						maxlength="22" styleClass="width-30">
						<f:validateLength maximum="22" />
					</p:inputText>
					<p:spacer width="10" />
					<h:outputText styleClass="input-label"
						value="(Eg : 12/TaMaNa(N)119933)" />
					<p:message for="nrcNo" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_FATHER_NAME']}" />
				<h:panelGroup>
					<p:inputText id="fatherName" label="Father Name"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.fatherNameEn}"
						maxlength="50" styleClass="width-30">
						<f:validateLength maximum="50" />
					</p:inputText>
					<p:message for="fatherName" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_DATE_OF_BIRTH']}" />
				<h:panelGroup>
					<p:calendar id="dateOfBirth" pattern="dd/MM/yyyy"
						label="Date of Birth" navigator="true"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.dateOfBirth}"
						styleClass="date-width-30">
					</p:calendar>
					<p:message for="dateOfBirth" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_GENDER']}" styleClass="required" />
				<h:panelGroup>
					<p:selectOneMenu id="gender" label="Gender"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.gender}"
						required="true">
						<f:selectItem itemLabel="#{label['WANTED_NOTICE_REGISTRATION_GENDER_SELECT']}" itemValue="" />
						<f:selectItems
							value="#{wantedNoticeRegisterActionBean.genderList}" var="gender"
							itemLabel="#{gender.label}" itemValue="#{gender.value}" />
					</p:selectOneMenu>
					<p:message for="gender" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_MARITAL_STATUS']}" />
				<p:selectOneMenu id="maritalStatus" label="Marital Status"
					value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.maritalStatus}">
					<f:selectItem itemLabel="#{label['WANTED_NOTICE_REGISTRATION_MARITAL_STATUS_SELECT']}" itemValue="" />
					<f:selectItems
						value="#{wantedNoticeRegisterActionBean.maritalStatusList}"
						var="maritalStatus" itemLabel="#{maritalStatus.label}"
						itemValue="#{maritalStatus.value}" />
				</p:selectOneMenu>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_MESSAGE']}" styleClass="required" />
				<h:panelGroup>
					<p:inputTextarea id="message" rows="5" cols="25" label="Message"
						autoResize="false"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.messageEn}"
						maxlength="2000" required="true"
						styleClass="width-80 text-area-noresize">
						<f:validateLength maximum="2000" />
					</p:inputTextarea>
					<p:message for="message" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_WEIGHT']}" />
				<h:panelGroup>
					<p:inputText id="weight" label="Weight"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.weight}"
						maxlength="6" styleClass="width-30">
						<f:validator validatorId="weightValidator" />
					</p:inputText>
					<p:spacer width="10" /><h:outputText value="#{label['WANTED_NOTICE_REGISTRATION_LBS']}" />
					<p:message for="weight" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_HEIGHT']}" />
				<h:panelGroup>
					<p:inputText id="feet" label="Feet"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.feet}"
						maxlength="3" styleClass="width-12">
						<f:validateLength maximum="3" />
						<f:validateLongRange maximum="82" minimum="1"/>
					</p:inputText>

					<p:spacer width="10" />
					<h:outputText value="#{label['WANTED_NOTICE_REGISTRATION_FEET']}" />
					<p:spacer width="20" />

					<p:inputText id="inches" label="Inches"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.inches}"
						maxlength="2" styleClass="width-12">
						<f:validateLength maximum="2" />
						<f:validateLongRange maximum="12" minimum="1"/>
					</p:inputText>

					<p:spacer width="10" />
					<h:outputText value="#{label['WANTED_NOTICE_REGISTRATION_INCHES']}" />

					<p:message for="feet" />
					<p:message for="inches" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_RACE']}" />
				<h:panelGroup>
					<p:inputText id="race" label="Race"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.raceEn}"
						maxlength="25" styleClass="width-30">
						<f:validateLength maximum="25" />
					</p:inputText>
					<p:message for="race" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_RELIGION']}" />
				<h:panelGroup>
					<p:inputText id="religion" label="Religion"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.religionEn}"
						maxlength="25" styleClass="width-30">
						<f:validateLength maximum="25" />
					</p:inputText>
					<p:message for="religion" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_NATIONALITY']}" />
				<h:panelGroup>
					<p:inputText id="nationality" label="Nationality"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.nationalityEn}"
						maxlength="25" styleClass="width-30">
						<f:validateLength maximum="25" />
					</p:inputText>
					<p:message for="nationality" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_PHONE_NO']}" />
				<h:panelGroup>
					<p:inputText id="phoneNo" label="Phone No"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.phoneNo}"
						maxlength="50" styleClass="width-30">
						<f:validateLength maximum="50" />
					</p:inputText>
					<p:message for="phoneNo" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_ADDRESS']}" />
				<h:panelGroup>
					<p:inputTextarea id="address" rows="3" cols="50" label="Address"
						autoResize="false"
						value="#{wantedNoticeRegisterActionBean.wantedNoticeDto.addressEn}"
						maxlength="255" styleClass="width-80 text-area-noresize">
						<f:validateLength maximum="255" />
					</p:inputTextarea>
					<p:message for="address" />
				</h:panelGroup>

				<p:outputLabel value="#{label['WANTED_NOTICE_REGISTRATION_ATTACHMENT_FILE']}"
					styleClass="vertical-top-align required" />
				<h:panelGroup>
					<p:fileUpload id="attachmentFile" mode="advanced"
						allowTypes="/(\.)(jpg|jpeg|png|JPG|JPEG|PNG)$/"
						label="#{label['WANTED_NOTICE_REGISTRATION_CHOOSE']}"
						uploadLabel="#{label['WANTED_NOTICE_REGISTRATION_UPLOAD']}"
						cancelLabel="#{label['WANTED_NOTICE_REGISTRATION_CANCEL']}"
						fileUploadListener="#{wantedNoticeRegisterActionBean.handleFileUpload}"
						multiple="true" update=":wantedNoticeRegisterForm:attachmentGrid"
						styleClass="width-80" />
					<br />
					<br />

					<h:panelGroup id="attachmentGrid">
						<c:if
							test="#{not empty wantedNoticeRegisterActionBean.wantedAttachmentDtoList}">
							<p:dataGrid columns="4" layout="grid"
								value="#{wantedNoticeRegisterActionBean.wantedAttachmentDtoList}"
								var="image" rowIndexVar="imageIndex">
								<p:commandLink id="deleteGroupLink"
									actionListener="#{wantedNoticeRegisterActionBean.deleteFileAttachment(image)}"
									immediate="true" styleClass="link-remove"
									update=":wantedNoticeRegisterForm:attachmentGrid">
									<p:graphicImage styleClass="img-remove"
										url="/images/Remove.png" />
								</p:commandLink>
								<p:commandLink id="image" oncomplete="PF('imageDialog').show()"
									update=":imageDialogForm" immediate="true"
									actionListener="#{wantedNoticeRegisterActionBean.openDialog(image, imageIndex)}">
									<p:graphicImage width="100px" height="100px"
										value="#{image.path}" />
								</p:commandLink>
							</p:dataGrid>
						</c:if>
					</h:panelGroup>
				</h:panelGroup>

				<p:outputLabel />
				<h:panelGroup>
					<p:commandButton id="register" value="#{label['WANTED_NOTICE_REGISTRATION_REGISTER']}"
						update=":wantedNoticeRegisterForm"
						action="#{wantedNoticeRegisterActionBean.register()}" />
					<h:outputText value="&#160;" />
					<p:commandButton id="reset" value="#{label['WANTED_NOTICE_REGISTRATION_RESET']}"
						update=":wantedNoticeRegisterForm" immediate="true"
						actionListener="#{wantedNoticeRegisterActionBean.init()}">
						<p:resetInput target="wantedNoticeRegisterForm" />
					</p:commandButton>
				</h:panelGroup>
			</p:panelGrid>
		</h:form>

		<h:form id="imageDialogForm">
			<p:dialog widgetVar="imageDialog" id="imageDialog" resizable="false"
				draggable="false" width="100%" height="100%"
				style="top:0px;bottom:0px; background: rgba(0, 0, 0, .9);"
				header="#{wantedNoticeRegisterActionBean.fileName}">
				<input type="hidden" value="#{flash.keep.wantedId}" />
				<div style="text-align: center;">
					<p:graphicImage value="#{wantedNoticeRegisterActionBean.path}"
						styleClass="img" />
				</div>
				<div class="arrow">
					<p:commandLink id="previous"
						oncomplete="PF('imageDialog').show()" update=":imageDialogForm"
						actionListener="#{wantedNoticeRegisterActionBean.showPreviousPhoto()}">
						<img src="/anti-criminal/images/previous.png"/>
					</p:commandLink>
					<p:commandLink id="next" oncomplete="PF('imageDialog').show()"
						update=":imageDialogForm"
						actionListener="#{wantedNoticeRegisterActionBean.showNextPhoto()}">
						<img src="/anti-criminal/images/next.png" />
					</p:commandLink>
				</div>
			</p:dialog>
		</h:form>

	</ui:define>
</ui:composition>