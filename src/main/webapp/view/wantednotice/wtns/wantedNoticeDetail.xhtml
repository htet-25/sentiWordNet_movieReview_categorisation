<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/common/commonLayout.xhtml">
	<ui:define name="content">
		<h:form id="wantedNoticeDetailForm">
			<h1><h:outputText value="#{label['WANTED_NOTICE_DETAIL_TITLE']}" /></h1>
			<p:messages globalOnly="true" showDetail="false" showSummary="true" />
			<c:if test="#{wantedNoticeDetailActionBean.wantedNoticeDto ne null}">
				<input type="hidden" value="#{flash.keep.wantedId}"/>
				<p:panelGrid columns="2" columnClasses="width-20, column-width-80"
					layout="grid">

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_ID']}" />
					<h:outputText id="wantedPersonId"
						value="#{wantedNoticeDetailActionBean.wantedNoticeDto.wantedPersonId}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_CASE_NO']}" />
					<h:outputText id="caseNo"
						value="#{wantedNoticeDetailActionBean.wantedNoticeDto.caseNo != null ? wantedNoticeDetailActionBean.wantedNoticeDto.caseNo : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_NAME']}" />
					<h:outputText id="name"
						value="#{wantedNoticeDetailActionBean.wantedNoticeDto.nameEn}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_NRC_NO']}" />
					<h:outputText id="nrcNo"
						value="#{not empty wantedNoticeDetailActionBean.wantedNoticeDto.nrcNoEn ? wantedNoticeDetailActionBean.wantedNoticeDto.nrcNoEn : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_FATHER_NAME']}" />
					<h:outputText id="fatherName"
						value="#{not empty wantedNoticeDetailActionBean.wantedNoticeDto.fatherNameEn ? wantedNoticeDetailActionBean.wantedNoticeDto.fatherNameEn : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_DATE_OF_BIRTH']}" />
					<h:outputText id="dateOfBirth"
						value="#{wantedNoticeDetailActionBean.wantedNoticeDto.dateOfBirth != null ? wantedNoticeDetailActionBean.wantedNoticeDto.dateOfBirth : '-'}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_GENDER']}" />
					<h:outputText id="gender"
						value="#{wantedNoticeDetailActionBean.wantedNoticeDto.genderLabel}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_MARITAL_STATUS']}" />
					<h:outputText id="maritalStatus"
						value="#{wantedNoticeDetailActionBean.wantedNoticeDto.maritalStatusLabel != null ? wantedNoticeDetailActionBean.wantedNoticeDto.maritalStatusLabel : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_MESSAGE']}" />
					<h:outputText id="message" rows="5" cols="50"
						value="#{wantedNoticeDetailActionBean.wantedNoticeDto.messageEn}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_PHONE_NO']}" />
					<h:outputText id="phoneNo"
						value="#{not empty wantedNoticeDetailActionBean.wantedNoticeDto.phoneNo ? wantedNoticeDetailActionBean.wantedNoticeDto.phoneNo : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_ADDRESS']}" />
					<h:outputText id="address"
						value="#{not empty wantedNoticeDetailActionBean.wantedNoticeDto.addressEn ? wantedNoticeDetailActionBean.wantedNoticeDto.addressEn : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_WEIGHT']}" />
					<h:panelGroup>
								<h:outputText value="#{wantedNoticeDetailActionBean.wantedNoticeDto.weight ne null ? wantedNoticeDetailActionBean.wantedNoticeDto.weight : '-'}" />
								<h:outputText value="#{label['WANTED_NOTICE_DETAIL_LBS']}" rendered="#{wantedNoticeDetailActionBean.wantedNoticeDto.weight ne null}"/>
					</h:panelGroup>

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_HEIGHT']}" />
					<h:outputText id="Height"
						value="#{wantedNoticeDetailActionBean.wantedNoticeDto.heightLabel != null ? wantedNoticeDetailActionBean.wantedNoticeDto.heightLabel : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_RACE']}" />
					<h:outputText id="race"
						value="#{not empty wantedNoticeDetailActionBean.wantedNoticeDto.raceEn ? wantedNoticeDetailActionBean.wantedNoticeDto.raceEn : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_RELIGION']}" />
					<h:outputText id="religion"
						value="#{not empty wantedNoticeDetailActionBean.wantedNoticeDto.religionEn ? wantedNoticeDetailActionBean.wantedNoticeDto.religionEn : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_NATIONALITY']}" />
					<h:outputText id="nationality"
						value="#{not empty wantedNoticeDetailActionBean.wantedNoticeDto.nationalityEn ? wantedNoticeDetailActionBean.wantedNoticeDto.nationalityEn : '-'}" />

					<p:outputLabel value="#{label['WANTED_NOTICE_DETAIL_ATTACHMENT_FILE']}"
						styleClass="vertical-top-align" />
					<p:dataGrid columns="4" layout="grid"
						value="#{wantedNoticeDetailActionBean.wantedAttachmentDtoList}"
						var="wantedAttachmentDto" rowIndexVar="index">
						<p:commandLink oncomplete="PF('imageDialog').show()"
							update=":imageDialogForm"
							actionListener="#{wantedNoticeDetailActionBean.openDialog(wantedAttachmentDto,index)}">
							<p:graphicImage value="#{wantedAttachmentDto.path}" width="100px"
								height="100px" />
						</p:commandLink>
					</p:dataGrid>

				</p:panelGrid>
			</c:if>
			<input type="hidden" value="#{flash.keep.reportId}"/>
			<p:panelGrid columns="2" columnClasses="width-20, column-width-80"
				layout="grid">
				<p:outputLabel />
				<p:commandButton rendered="#{wantedNoticeDetailActionBean.reportId eq null}" id="back" value="#{label['WANTED_NOTICE_DETAIL_BACK']}" action="wantedNoticeSearch" />
				<p:commandButton rendered="#{wantedNoticeDetailActionBean.reportId ne null}" id="backToReportDetail" value="#{label['WANTED_NOTICE_DETAIL_BACK']}" action="#{wantedNoticeDetailActionBean.backToReportDetail()}" />
			</p:panelGrid>
		</h:form>

		<h:form id="imageDialogForm">
			<p:dialog widgetVar="imageDialog" id="imageDialog" resizable="false"
				width="100%" height="100%"
				style="top:0px;bottom:0px;background: rgba(0, 0, 0, .9);"
				header="#{wantedNoticeDetailActionBean.fileName}">
				<input type="hidden" value="#{flash.keep.reportId}"/>
				<input type="hidden" value="#{flash.keep.wantedId}" />
				<div style="text-align: center;">
					<p:graphicImage value="#{wantedNoticeDetailActionBean.imagePath}"
						styleClass="img" />
				</div>
				<div class="arrow">
					<p:commandLink id="previous"
						oncomplete="PF('imageDialog').show()"
						update=":imageDialogForm"
						actionListener="#{wantedNoticeDetailActionBean.showPreviousPhoto()}">
							<img src="/anti-criminal/images/previous.png"/>
						</p:commandLink>
					<p:commandLink id="next" image="next" oncomplete="PF('imageDialog').show()"
						update=":imageDialogForm"
						actionListener="#{wantedNoticeDetailActionBean.showNextPhoto()}">
						<img src="/anti-criminal/images/next.png"/>
					</p:commandLink>
				</div>
			</p:dialog>
		</h:form>
		
	</ui:define>
</ui:composition>